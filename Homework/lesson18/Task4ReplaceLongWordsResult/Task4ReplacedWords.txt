PACKAGE LESSON18;

IMPORT JAVA.IO.*;

PUBLIC CLASS TASK4REPLACELONGWORDS {

    PUBLIC STATIC VOID MAIN(STRING[] ARGS) {

        FILE DIRECTORY = NEW FILE("D:" + FILE.separator + "JAVA_PROJECTS" + FILE.separator + "ITEA" + FILE.separator + "HOMEWORK"
                + FILE.SEPARATOR + "HOMEWORK" + FILE.SEPARATOR + "LESSON18" + FILE.SEPARATOR + "TASK4REPLACELONGWORDSRESULT");

        if (!DIRECTORY.EXISTS()) {
            DIRECTORY.MKDIR();
        }

        VAR INPUTFILE = NEW FILE("D:" + FILE.SEPARATOR + "JAVA_PROJECTS" + FILE.SEPARATOR + "ITEA" + FILE.SEPARATOR + "HOMEWORK" +
                FILE.SEPARATOR + "HOMEWORK" + FILE.SEPARATOR + "LESSON18" + FILE.SEPARATOR + "TASK4REPLACELONGWORDS.JAVA");

        VAR OUTPUTFILE = NEW FILE("D:" + FILE.SEPARATOR + "JAVA_PROJECTS" + FILE.SEPARATOR + "ITEA" + FILE.SEPARATOR + "HOMEWORK"
                + FILE.SEPARATOR + "HOMEWORK" + FILE.SEPARATOR + "LESSON18" + FILE.SEPARATOR + FILE.SEPARATOR + "TASK4REPLACELONGWORDSRESULT" + FILE.SEPARATOR + "TASK4REPLACEDWORDS.TXT");



        TRY {
            BUFFEREDREADER BUFFEREDREADER = NEW BUFFEREDREADER(NEW FILEREADER(INPUTFILE));
            FILEWRITER FILEWRITER = NEW FILEWRITER(outputFile);

            STRING LINE;

            WHILE ((LINE = BUFFEREDREADER.READLINE()) != NULL){
                STRING [] STR = LINE.SPLIT("\\S+");
                STRING STRINUPPERCASE;

                FOR (STRING WORD: STR) {
                    if (WORD.LENGTH() > 2){
                        STRINUPPERCASE = WORD.TOUPPERCASE();
                        LINE = LINE.replace(word, STRINUPPERCASE);
                    }

                }
                FILEWRITER.WRITE(LINE + "\N");
            }

            FILEWRITER.CLOSE();
            BUFFEREDREADER.CLOSE();

        } CATCH (IOEXCEPTION e) {
            SYSTEM.ERR.PRINTLN("ПОМИЛКА ЗЧИТУВАННЯ ФАЙЛУ " + E);
        }


    }
}
